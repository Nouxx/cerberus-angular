<div class="block block-rounded block-bordered" *ngIf="testcase">
  <div class="block-header block-header-default">
    <h3 class="block-title">Testcase <small>script</small></h3>
    <div class="block-options">
      <button type="button" class="btn-block-option" data-toggle="block-option" data-action="fullscreen_toggle"><i
          class="si si-size-fullscreen"></i></button>
      <button type="button" class="btn-block-option" data-toggle="block-option" data-action="state_toggle"
        data-action-mode="demo">
        <i class="si si-refresh"></i>
      </button>
    </div>
  </div>
  <div class="block-content">
    <div class="row push" *ngIf="testcase.stepList.length == 0">
      <div class="col-md-12 mt-3s text-center">
        <p>The test case is empty <i class="far fa-frown-open"></i></p>
      </div>
      <div class="col-md-12 text-center">
        <div class="btn-group" role="group" aria-label="Horizontal Outline Primary">
          <button type="button" class="btn btn-outline-primary" (click)="addAStep()"><i
              class="fa fa-fw fa-plus mr-1"></i>
            Step</button>
          <button type="button" class="btn btn-outline-primary"><i class="fa fa-fw fa-plus mr-1"></i>Use Step</button>
        </div>
      </div>
    </div>
    <!-- STEP LIST -->
    <div class="row" *ngIf="testcase.stepList.length != 0">
      <div class="col-md-7">
        <div [id]="stepListBlockId" role="tablist" aria-multiselectable="true" class="stepList" cdkDropList
          [cdkDropListData]="testcase.stepList" (cdkDropListDropped)="dropStep($event)">
          <div *ngFor="let step of testcase.stepList; let index = index" class="stepDrag" cdkDrag cdkDragLockAxis="y">
            <app-step [step]="step" [stepNumber]="index+1">
              <button slot="drag-step" type="button" class="btn btn-primary drag-cursor" cdkDragHandle>
                <i class="fa fa-arrows-alt-v"></i>
              </button>
            </app-step>
          </div>
          <div class="push">
            <div class="col-md-12 text-center">
              <button type="button" class="btn btn-outline-primary mr-3" (click)="addAStep()">
                <i class="fa fa-fw fa-plus mr-1"></i>Step
              </button>
              <button type="button" class="btn btn-outline-primary">
                <i class="fa fa-fw fa-plus mr-1"></i>Use Step
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-5">
        <app-settings></app-settings>
      </div>
    </div>
    <!-- END STEP LIST -->
    <div id="testcasescript_modal_footer" class="row push">
      <div class="col-md-12 text-center">
        <button type="button" class="btn btn-info mr-1" (click)="saveTestCase()">
          <i class="fa fa-fw fa-check mr-1"></i> Save
        </button>
      </div>
    </div>
  </div>
</div>